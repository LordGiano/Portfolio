<div class="exp-page">

  <!-- ===== COMPACT HERO WITH 3D TECH CUBE ===== -->
  <section class="cinematic-hero" data-section="hero"
           [class.visible]="isSectionVisible('hero')">
    <div class="hero-noise"></div>
    <div class="hero-gradient-mesh"></div>
    <div class="hero-lines">
      <div class="h-line" *ngFor="let l of [1,2,3,4,5]"></div>
    </div>
    <div class="hero-inner">
      <!-- Left: Text -->
      <div class="hero-text">
        <div class="hero-eyebrow">
          <span class="eyebrow-line"></span>
          <span class="eyebrow-text">{{ 'exp.hero_badge' | translate }}</span>
          <span class="eyebrow-line"></span>
        </div>
        <h1 class="hero-massive">{{ 'exp.hero_title' | translate }}</h1>
        <p class="hero-lead">{{ 'exp.hero_subtitle' | translate }}</p>
      </div>

      <!-- Right: 3D Tech Cube -->
      <div class="hero-cube-area">
        <div class="cube-glow"></div>
        <div class="cube-scene">
          <div class="cube-wrapper" #cubeWrapper
               (mouseenter)="cubeHovered = true"
               (mouseleave)="cubeHovered = false"
               [class.paused]="cubeHovered">
            <div class="cube-face front">
              <div class="face-icon" style="background:rgba(59,130,246,.15);color:#3B82F6">
                <mat-icon>web</mat-icon>
              </div>
              <span class="face-label">Frontend</span>
              <span class="face-tech">Angular ¬∑ TypeScript</span>
            </div>
            <div class="cube-face back">
              <div class="face-icon" style="background:rgba(16,185,129,.15);color:#10B981">
                <mat-icon>terminal</mat-icon>
              </div>
              <span class="face-label">Backend</span>
              <span class="face-tech">Python ¬∑ C# ¬∑ .NET</span>
            </div>
            <div class="cube-face right">
              <div class="face-icon" style="background:rgba(217,119,6,.15);color:#F59E0B">
                <mat-icon>storage</mat-icon>
              </div>
              <span class="face-label">Database</span>
              <span class="face-tech">MSSQL ¬∑ MySQL</span>
            </div>
            <div class="cube-face left">
              <div class="face-icon" style="background:rgba(220,38,38,.15);color:#EF4444">
                <mat-icon>bug_report</mat-icon>
              </div>
              <span class="face-label">Testing</span>
              <span class="face-tech">ISTQB ¬∑ QA</span>
            </div>
            <div class="cube-face top">
              <div class="face-icon" style="background:rgba(139,92,246,.15);color:#8B5CF6">
                <mat-icon>visibility</mat-icon>
              </div>
              <span class="face-label">Vision</span>
              <span class="face-tech">OpenCV ¬∑ MediaPipe</span>
            </div>
            <div class="cube-face bottom">
              <div class="face-icon" style="background:rgba(8,145,178,.15);color:#06B6D4">
                <mat-icon>rocket_launch</mat-icon>
              </div>
              <span class="face-label">DevOps</span>
              <span class="face-tech">Docker ¬∑ Git</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== COUNTER STRIP ===== -->
  <section class="counter-strip" data-section="hero-stats"
           [class.visible]="isSectionVisible('hero-stats')">
    <div class="counter-item">
      <span class="counter-num">{{ yearsExperience }}+</span>
      <span class="counter-label">{{ 'exp.stat_years' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ projectsCompleted }}+</span>
      <span class="counter-label">{{ 'exp.stat_projects' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ technologiesUsed }}+</span>
      <span class="counter-label">{{ 'exp.stat_technologies' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ spokenLanguages }}</span>
      <span class="counter-label">{{ 'exp.stat_languages' | translate }}</span>
    </div>
  </section>

  <!-- ===== VERTICAL INTERACTIVE TIMELINE WITH 3D TILT ===== -->
  <section class="timeline-section" data-section="timeline"
           [class.visible]="isSectionVisible('timeline')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.work_tag' | translate }}</span>
        <h2>{{ 'experience.workExperience' | translate }}</h2>
      </div>

      <div class="v-timeline">
        <div class="v-timeline-line"></div>

        <div class="v-tl-item" *ngFor="let job of workExperiences; let i = index"
             [class.expanded]="expandedJob === i"
             [style.--c]="job.color"
             [style.--g]="job.gradient"
             [style.animation-delay]="(i * 0.12) + 's'">

          <!-- Dot on the line -->
          <div class="v-tl-dot" (click)="toggleJob(i)">
            <div class="v-tl-dot-ring"></div>
            <mat-icon class="v-tl-dot-icon">{{ job.icon }}</mat-icon>
          </div>

          <!-- Card with 3D tilt -->
          <div class="v-tl-card"
               (click)="toggleJob(i)"
               (mousemove)="onCardTilt($event)"
               (mouseleave)="onCardTiltReset($event)">
            <div class="v-tl-accent"></div>
            <div class="v-tl-holo-shimmer"></div>
            <div class="v-tl-light-dot"></div>

            <div class="v-tl-card-inner">
              <!-- Always visible header -->
              <div class="v-tl-header">
                <div class="v-tl-left">
                  <h3 class="v-tl-company">{{ job.company }}</h3>
                  <p class="v-tl-role">{{ job.role }}</p>
                </div>
                <div class="v-tl-right">
                  <span class="v-tl-type" [attr.data-type]="job.type">{{ getTypeLabel(job.type) }}</span>
                  <span class="v-tl-period">{{ job.period }}</span>
                </div>
              </div>

              <!-- Expandable body -->
              <div class="v-tl-body" [class.open]="expandedJob === i">
                <div class="v-tl-meta">
                  <span>üìç {{ job.location }} ¬∑ {{ job.mode }}</span>
                </div>

                <div class="v-tl-highlight" *ngIf="job.highlight">
                  ‚ö° {{ job.highlight }}
                </div>

                <ul class="v-tl-descs">
                  <li *ngFor="let d of job.descriptions">
                    <span class="v-tl-arrow" [style.color]="job.color">‚ñπ</span>{{ d }}
                  </li>
                </ul>

                <div class="v-tl-techs">
                  <span class="v-tl-tech" *ngFor="let tech of job.technologies">{{ tech }}</span>
                </div>
              </div>

              <!-- Expand hint -->
              <div class="v-tl-expand-hint">
                <mat-icon>{{ expandedJob === i ? 'expand_less' : 'expand_more' }}</mat-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== 3D BOOK ‚Äî EDUCATION ===== -->
  <section class="book-section" data-section="book"
           [class.visible]="isSectionVisible('book')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.edu_tag' | translate }}</span>
        <h2>{{ 'experience.education' | translate }}</h2>
      </div>

      <!-- Navigation -->
      <div class="book-nav">
        <button class="book-nav-btn" (click)="prevEdu()" [disabled]="activeEduPage === 0">
          <mat-icon>chevron_left</mat-icon>
        </button>
        <div class="book-dots">
          <button *ngFor="let edu of educations; let i = index"
                  class="book-dot"
                  [class.active]="activeEduPage === i"
                  (click)="goToEduPage(i)">
            <mat-icon>{{ edu.icon }}</mat-icon>
          </button>
        </div>
        <button class="book-nav-btn" (click)="nextEdu()" [disabled]="activeEduPage === educations.length - 1">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>

      <!-- Book wrapper -->
      <div class="book-wrapper">
        <div class="book-page" *ngFor="let edu of educations; let i = index"
             [class.page-active]="activeEduPage === i"
             [class.page-left]="i < activeEduPage"
             [class.page-right]="i > activeEduPage"
             [style.--pc]="edu.color"
             [style.--pg]="edu.gradient">

          <div class="bp-left">
            <div class="bp-icon" [style.background]="edu.gradient">
              <mat-icon>{{ edu.icon }}</mat-icon>
            </div>
            <h3>{{ edu.degree }}</h3>
            <p class="bp-spec">{{ edu.specialization }}</p>
            <p class="bp-inst">{{ edu.institution }}</p>
            <div class="bp-meta">
              <span>üìÖ {{ edu.period }}</span>
              <span>üìç {{ edu.location }}</span>
            </div>
            <span class="bp-grade" *ngIf="edu.grade">{{ 'exp.grade' | translate }}: {{ edu.grade }}</span>
          </div>

          <div class="bp-right">
            <div class="bp-subjects" *ngIf="edu.subjects">
              <h4>{{ 'exp.comp_tag' | translate }}</h4>
              <div class="bp-tag-cloud">
                <span class="bp-tag" *ngFor="let s of edu.subjects">{{ s }}</span>
              </div>
            </div>
            <div class="bp-activities" *ngIf="edu.activities">
              <h4>{{ 'exp.activities' | translate }}</h4>
              <p>{{ edu.activities }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== COMPETENCIES ===== -->
  <section class="orbs-section" data-section="orbs"
           [class.visible]="isSectionVisible('orbs')">
    <div class="orbs-bg"></div>
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.comp_tag' | translate }}</span>
        <h2>{{ 'exp.comp_title' | translate }}</h2>
      </div>
      <div class="orbs-grid">
        <div class="orb-card" *ngFor="let comp of competencies; let i = index"
             [style.--orb-color]="comp.color" [style.--orb-gradient]="comp.gradient"
             [style.animation-delay]="(i * 0.1) + 's'">
          <div class="orb-glow"></div>
          <div class="orb-icon">
            <mat-icon>{{ comp.matIcon }}</mat-icon>
          </div>
          <h3>{{ comp.title }}</h3>
          <div class="orb-items">
            <span *ngFor="let item of comp.items">{{ item }}</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== LANGUAGES ‚Äî Fixed SVG Rings ===== -->
  <section class="rings-section" data-section="rings"
           [class.visible]="isSectionVisible('rings')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.lang_tag' | translate }}</span>
        <h2>{{ 'exp.lang_title' | translate }}</h2>
      </div>

      <div class="rings-grid">
        <div class="ring-card" *ngFor="let lang of languages; let i = index"
             [style.animation-delay]="(i * 0.15) + 's'">
          <div class="ring-visual">
            <svg viewBox="0 0 140 140" class="ring-svg">
              <circle cx="70" cy="70" r="58" class="ring-track"/>
              <circle cx="70" cy="70" r="58" class="ring-progress"
                      [style.stroke]="lang.color"
                      [attr.stroke-dasharray]="getRingDash(lang.percent)"
                      stroke-dashoffset="0"/>
            </svg>
            <span class="ring-flag">{{ lang.flag }}</span>
          </div>
          <span class="ring-name">{{ lang.name }}</span>
          <span class="ring-level" [style.color]="lang.color">{{ lang.level }}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CTA ===== -->
  <section class="exp-cta" data-section="cta"
           [class.visible]="isSectionVisible('cta')">
    <div class="cta-mesh"></div>
    <div class="container cta-inner">
      <h2>{{ 'exp.cta_title' | translate }}</h2>
      <p>{{ 'exp.cta_subtitle' | translate }}</p>
      <div class="cta-btns">
        <a routerLink="/contact" class="cta-btn-primary">
          <mat-icon>send</mat-icon> {{ 'exp.cta_contact' | translate }}
        </a>
        <a routerLink="/documents" class="cta-btn-outline">
          <mat-icon>description</mat-icon> {{ 'exp.cta_cv' | translate }}
        </a>
      </div>
    </div>
  </section>

</div>
