<div class="exp-page">

  <!-- ===== CINEMATIC HERO ===== -->
  <section class="cinematic-hero" data-section="hero"
           [class.visible]="isSectionVisible('hero')">
    <div class="hero-noise"></div>
    <div class="hero-gradient-mesh"></div>
    <div class="hero-lines">
      <div class="h-line" *ngFor="let l of [1,2,3,4,5]"></div>
    </div>

    <div class="hero-inner">
      <div class="hero-eyebrow">
        <span class="eyebrow-line"></span>
        <span class="eyebrow-text">{{ 'exp.hero_badge' | translate }}</span>
        <span class="eyebrow-line"></span>
      </div>

      <h1 class="hero-massive">
        {{ 'exp.hero_title' | translate }}
      </h1>

      <p class="hero-lead">{{ 'exp.hero_subtitle' | translate }}</p>
    </div>
  </section>

  <!-- ===== COUNTER STRIP ===== -->
  <section class="counter-strip" data-section="hero-stats"
           [class.visible]="isSectionVisible('hero-stats')">
    <div class="counter-item">
      <span class="counter-num">{{ yearsExperience }}+</span>
      <span class="counter-label">{{ 'exp.stat_years' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ projectsCompleted }}+</span>
      <span class="counter-label">{{ 'exp.stat_projects' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ technologiesUsed }}+</span>
      <span class="counter-label">{{ 'exp.stat_technologies' | translate }}</span>
    </div>
    <div class="counter-divider"></div>
    <div class="counter-item">
      <span class="counter-num">{{ spokenLanguages }}</span>
      <span class="counter-label">{{ 'exp.stat_languages' | translate }}</span>
    </div>
  </section>

  <!-- ===== HORIZONTAL SCROLL TIMELINE ===== -->
  <section class="timeline-section" data-section="timeline"
           [class.visible]="isSectionVisible('timeline')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.work_tag' | translate }}</span>
        <h2>{{ 'experience.workExperience' | translate }}</h2>
        <p class="section-sub">{{ 'exp.timeline_hint' | translate }}</p>
      </div>
    </div>

    <!-- Progress bar -->
    <div class="timeline-progress-track">
      <div class="timeline-progress-fill" [style.width.%]="timelineScrollProgress"></div>
    </div>

    <!-- Horizontal scroll container -->
    <div class="timeline-scroll" (scroll)="onTimelineScroll($event)" #timelineTrack>
      <div class="timeline-rail">
        <div class="timeline-line-h"></div>

        <div class="tl-card" *ngFor="let job of workExperiences; let i = index"
             [style.--card-color]="job.color"
             [style.--card-gradient]="job.gradient">
          <div class="tl-dot">
            <div class="tl-dot-inner"></div>
          </div>
          <div class="tl-card-body">
            <div class="tl-card-accent"></div>
            <div class="tl-icon-wrap">
              <mat-icon>{{ job.icon }}</mat-icon>
            </div>
            <span class="tl-type" [attr.data-type]="job.type">
              {{ getTypeLabel(job.type) }}
            </span>
            <h3 class="tl-company">{{ job.company }}</h3>
            <p class="tl-role">{{ job.role }}</p>
            <span class="tl-period">{{ job.period }}</span>
            <span class="tl-location">üìç {{ job.location }} ¬∑ {{ job.mode }}</span>

            <div class="tl-highlight" *ngIf="job.highlight">
              ‚ö° {{ job.highlight }}
            </div>

            <ul class="tl-descs">
              <li *ngFor="let d of job.descriptions">
                <span class="tl-arrow" [style.color]="job.color">‚ñπ</span>{{ d }}
              </li>
            </ul>

            <div class="tl-techs">
              <span class="tl-tech" *ngFor="let tech of job.technologies">{{ tech }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== 3D BOOK ‚Äî EDUCATION ===== -->
  <section class="book-section" data-section="book"
           [class.visible]="isSectionVisible('book')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.edu_tag' | translate }}</span>
        <h2>{{ 'experience.education' | translate }}</h2>
      </div>

      <div class="book-3d">
        <!-- Book spine -->
        <div class="book-spine"></div>

        <!-- Page navigation -->
        <div class="book-nav">
          <button class="book-nav-btn" (click)="prevPage()" [disabled]="activeEduPage === 0">
            <mat-icon>chevron_left</mat-icon>
          </button>
          <div class="book-dots">
            <span *ngFor="let edu of educations; let i = index"
                  class="book-dot"
                  [class.active]="activeEduPage === i"
                  (click)="goToPage(i)"></span>
          </div>
          <button class="book-nav-btn" (click)="nextPage()" [disabled]="activeEduPage === educations.length - 1">
            <mat-icon>chevron_right</mat-icon>
          </button>
        </div>

        <!-- Pages -->
        <div class="book-pages">
          <div class="book-page" *ngFor="let edu of educations; let i = index"
               [class.active]="activeEduPage === i"
               [class.prev]="i < activeEduPage"
               [class.next]="i > activeEduPage"
               [style.--page-color]="edu.color"
               [style.--page-gradient]="edu.gradient">

            <div class="page-left">
              <div class="page-icon-big" [style.background]="edu.gradient">
                <mat-icon>{{ edu.icon }}</mat-icon>
              </div>
              <h3 class="page-degree">{{ edu.degree }}</h3>
              <p class="page-spec">{{ edu.specialization }}</p>
              <div class="page-institution">{{ edu.institution }}</div>
              <div class="page-meta">
                <span>üìÖ {{ edu.period }}</span>
                <span>üìç {{ edu.location }}</span>
              </div>
              <div class="page-grade" *ngIf="edu.grade">
                {{ 'exp.grade' | translate }}: {{ edu.grade }}
              </div>
            </div>

            <div class="page-right">
              <div class="page-subjects" *ngIf="edu.subjects">
                <h4>{{ 'exp.comp_tag' | translate }}</h4>
                <div class="subject-cloud">
                  <span class="subject-tag" *ngFor="let s of edu.subjects"
                        [style.--tag-color]="edu.color">{{ s }}</span>
                </div>
              </div>
              <div class="page-activities" *ngIf="edu.activities">
                <h4>{{ 'exp.activities' | translate }}</h4>
                <p>{{ edu.activities }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== COMPETENCIES ‚Äî Floating Orbs ===== -->
  <section class="orbs-section" data-section="orbs"
           [class.visible]="isSectionVisible('orbs')">
    <div class="orbs-bg"></div>
    <div class="container">
      <div class="section-head section-head-light">
        <span class="section-label section-label-light">{{ 'exp.comp_tag' | translate }}</span>
        <h2>{{ 'exp.comp_title' | translate }}</h2>
      </div>

      <div class="orbs-grid">
        <div class="orb-card" *ngFor="let comp of competencies; let i = index"
             [style.--orb-color]="comp.color"
             [style.--orb-gradient]="comp.gradient"
             [style.animation-delay]="(i * 0.1) + 's'">
          <div class="orb-glow"></div>
          <div class="orb-icon">
            <mat-icon>{{ comp.matIcon }}</mat-icon>
          </div>
          <h3>{{ comp.title }}</h3>
          <div class="orb-items">
            <span *ngFor="let item of comp.items">{{ item }}</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== LANGUAGES ‚Äî Circular Progress ===== -->
  <section class="rings-section" data-section="rings"
           [class.visible]="isSectionVisible('rings')">
    <div class="container">
      <div class="section-head">
        <span class="section-label">{{ 'exp.lang_tag' | translate }}</span>
        <h2>{{ 'exp.lang_title' | translate }}</h2>
      </div>

      <div class="rings-grid">
        <div class="ring-card" *ngFor="let lang of languages; let i = index"
             [style.animation-delay]="(i * 0.15) + 's'">
          <div class="ring-visual">
            <svg viewBox="0 0 120 120" class="ring-svg">
              <circle cx="60" cy="60" r="52" class="ring-bg"/>
              <circle cx="60" cy="60" r="52" class="ring-fill"
                      [style.stroke]="lang.color"
                      [style.--ring-percent]="lang.percent"
                      [style.stroke-dasharray]="(lang.percent / 100) * 327 + ' ' + 327"/>
            </svg>
            <span class="ring-flag">{{ lang.flag }}</span>
          </div>
          <div class="ring-info">
            <span class="ring-name">{{ lang.name }}</span>
            <span class="ring-level" [style.color]="lang.color">{{ lang.level }}</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CTA ===== -->
  <section class="exp-cta" data-section="cta"
           [class.visible]="isSectionVisible('cta')">
    <div class="cta-mesh"></div>
    <div class="container cta-inner">
      <h2>{{ 'exp.cta_title' | translate }}</h2>
      <p>{{ 'exp.cta_subtitle' | translate }}</p>
      <div class="cta-btns">
        <a routerLink="/contact" class="cta-btn-primary">
          <mat-icon>send</mat-icon>
          {{ 'exp.cta_contact' | translate }}
        </a>
        <a routerLink="/documents" class="cta-btn-outline">
          <mat-icon>description</mat-icon>
          {{ 'exp.cta_cv' | translate }}
        </a>
      </div>
    </div>
  </section>

</div>
