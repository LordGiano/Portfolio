<div class="lang-wrapper">
  <button class="lang-trigger"
          (click)="toggle()"
          [class.open]="isOpen"
          type="button">
    <span class="lang-code">{{ currentLang.name }}</span>
    <svg class="lang-chevron" [class.flipped]="isOpen"
         width="14" height="14" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2.5"
         stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  </button>

  <div class="lang-dropdown" *ngIf="isOpen">
    <button *ngFor="let lang of languages"
            class="lang-item"
            [class.active]="lang.code === currentLang.code"
            (click)="select(lang)"
            type="button">
      <span class="lang-name">{{ lang.name }}</span>
      <svg *ngIf="lang.code === currentLang.code"
           class="lang-check"
           width="16" height="16" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="2.5"
           stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    </button>
  </div>
</div>
