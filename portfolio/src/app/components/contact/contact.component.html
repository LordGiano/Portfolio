<div class="contact-page">

  <!-- ===== ANIMATED BACKGROUND ===== -->
  <div class="bg-layer">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
    <div class="gradient-orb orb-4"></div>
    <div class="noise-overlay"></div>
    <div class="grid-pattern"></div>
  </div>

  <!-- ===== HERO WITH 3D MESSAGE JOURNEY ===== -->
  <section class="contact-hero">
    <div class="hero-layout">
      <div class="hero-text">
        <h1 class="hero-title">
          <span class="title-muted">{{ 'cnt.title_1' | translate }}</span>
          <br>
          <span class="gradient-text">{{ 'cnt.title_2' | translate }}</span>
        </h1>

        <p class="hero-desc">{{ 'cnt.hero_desc' | translate }}</p>

        <div class="hero-availability">
          <span class="avail-dot"></span>
          {{ 'cnt.available' | translate }}
        </div>
      </div>

      <!-- 3D Message Journey Animation -->
      <div class="journey-wrapper"
           (mousemove)="onSceneMouseMove($event)"
           (mouseleave)="resetScene()">
        <div class="journey-glow"></div>
        <div class="journey-scene"
             [style.transform]="'rotateX(' + sceneRotX + 'deg) rotateY(' + sceneRotY + 'deg)'">

          <!-- Sender node -->
          <div class="node node-sender">
            <div class="node-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
            </div>
            <div class="node-ring"></div>
            <span class="node-label">You</span>
          </div>

          <!-- Animated path with particles -->
          <div class="connection-path">
            <svg class="path-svg" viewBox="0 0 200 60" preserveAspectRatio="none">
              <path class="path-line" d="M 0,30 C 50,5 150,55 200,30" fill="none" stroke="url(#pathGrad)" stroke-width="2"/>
              <defs>
                <linearGradient id="pathGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#63B3ED" stop-opacity="0.6"/>
                  <stop offset="50%" stop-color="#B794F4" stop-opacity="0.8"/>
                  <stop offset="100%" stop-color="#68D391" stop-opacity="0.6"/>
                </linearGradient>
              </defs>
            </svg>

            <!-- Flying envelope -->
            <div class="flying-envelope">
              <div class="envelope-3d">
                <div class="env-body">
                  <svg viewBox="0 0 32 24" fill="none">
                    <rect x="1" y="1" width="30" height="22" rx="3" fill="rgba(99,179,237,0.15)" stroke="#63B3ED" stroke-width="1.5"/>
                    <polyline points="1,1 16,13 31,1" fill="none" stroke="#63B3ED" stroke-width="1.5" stroke-linecap="round"/>
                  </svg>
                </div>
                <div class="env-trail"></div>
              </div>
            </div>

            <!-- Path particles -->
            <div class="path-particle p1"></div>
            <div class="path-particle p2"></div>
            <div class="path-particle p3"></div>
            <div class="path-particle p4"></div>
            <div class="path-particle p5"></div>
          </div>

          <!-- Receiver node -->
          <div class="node node-receiver">
            <div class="node-icon receiver-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
            </div>
            <div class="node-ring receiver-ring"></div>
            <span class="node-label">Me</span>
            <!-- Success checkmark -->
            <div class="success-check">
              <svg viewBox="0 0 24 24" fill="none" stroke="#68D391" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
            </div>
          </div>

          <!-- Floating decorative elements -->
          <div class="float-element float-code">&lt;/&gt;</div>
          <div class="float-element float-at">&#64;</div>
          <div class="float-element float-hash">#</div>

        </div>
      </div>
    </div>
  </section>

  <!-- ===== 4-COLUMN CHANNEL CARDS ===== -->
  <section class="channels-section">
    <div class="container">
      <div class="channels-grid-4">

        <a href="mailto:bfcnorbi11@gmail.com" class="channel-card"
           [class.active]="hoveredCard === 'email'"
           (mouseenter)="hoveredCard = 'email'" (mouseleave)="hoveredCard = null">
          <div class="card-accent" style="--accent: var(--orange)"></div>
          <div class="card-icon-wrap" style="--icon-bg: var(--orange-dim); --icon-color: var(--orange)">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><polyline points="22,4 12,13 2,4"/></svg>
          </div>
          <h3 class="card-title">{{ 'cnt.email_title' | translate }}</h3>
          <p class="card-value">bfcnorbi11&#64;gmail.com</p>
          <span class="card-hint">{{ 'cnt.email_hint' | translate }}</span>
          <span class="card-arrow-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg></span>
        </a>

        <a href="https://www.linkedin.com/in/norbert-szab%C3%B3-5b6642202/" target="_blank" rel="noopener"
           class="channel-card"
           [class.active]="hoveredCard === 'linkedin'"
           (mouseenter)="hoveredCard = 'linkedin'" (mouseleave)="hoveredCard = null">
          <div class="card-accent" style="--accent: #3888D8"></div>
          <div class="card-icon-wrap" style="--icon-bg: rgba(56,136,216,0.1); --icon-color: #3888D8">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </div>
          <h3 class="card-title">LinkedIn</h3>
          <p class="card-value">{{ 'cnt.linkedin_desc' | translate }}</p>
          <span class="card-hint">{{ 'cnt.linkedin_hint' | translate }}</span>
          <span class="card-arrow-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg></span>
        </a>

        <a href="https://github.com/LordGiano" target="_blank" rel="noopener"
           class="channel-card"
           [class.active]="hoveredCard === 'github'"
           (mouseenter)="hoveredCard = 'github'" (mouseleave)="hoveredCard = null">
          <div class="card-accent" style="--accent: var(--purple)"></div>
          <div class="card-icon-wrap" style="--icon-bg: var(--purple-dim); --icon-color: var(--purple)">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          </div>
          <h3 class="card-title">GitHub</h3>
          <p class="card-value">{{ 'cnt.github_desc' | translate }}</p>
          <span class="card-hint">{{ 'cnt.github_hint' | translate }}</span>
          <span class="card-arrow-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg></span>
        </a>

        <a href="tel:+36705033601" class="channel-card"
           [class.active]="hoveredCard === 'phone'"
           (mouseenter)="hoveredCard = 'phone'" (mouseleave)="hoveredCard = null">
          <div class="card-accent" style="--accent: var(--green)"></div>
          <div class="card-icon-wrap" style="--icon-bg: var(--green-dim); --icon-color: var(--green)">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
          </div>
          <h3 class="card-title">{{ 'cnt.phone_title' | translate }}</h3>
          <p class="card-value">+36 70 503 3601</p>
          <span class="card-hint">{{ 'cnt.phone_hint' | translate }}</span>
          <span class="card-arrow-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg></span>
        </a>

      </div>
    </div>
  </section>

  <!-- ===== FORM SECTION ===== -->
  <section class="form-section">
    <div class="container">
      <div class="form-layout">

        <div class="form-info">
          <span class="info-tag">// {{ 'cnt.form_tag' | translate }}</span>
          <h2 class="info-title">
            {{ 'cnt.form_title_prefix' | translate }}
            <span class="accent-blue">{{ 'cnt.form_title_accent' | translate }}</span>
          </h2>
          <p class="info-desc">{{ 'cnt.form_desc' | translate }}</p>

          <div class="info-details">
            <div class="detail-row orange-left">
              <span class="detail-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
              </span>
              <span>Budapest, {{ 'cnt.location' | translate }}</span>
            </div>
            <div class="detail-row blue-left">
              <span class="detail-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
              </span>
              <span>{{ 'cnt.timezone' | translate }}</span>
            </div>
            <div class="detail-row green-left">
              <span class="detail-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="16" height="16"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              </span>
              <span>{{ 'cnt.response_time' | translate }}</span>
            </div>
          </div>

          <div class="code-block">
            <span class="code-purple">const</span>
            <span class="code-blue"> developer</span>
            <span class="code-muted"> = </span>&#123;<br>
            &nbsp;&nbsp;<span class="code-green">name</span>: <span class="code-orange">"SzabÃ³ Norbert"</span>,<br>
            &nbsp;&nbsp;<span class="code-green">stack</span>: <span class="code-orange">["Angular", "Python", "CV"]</span>,<br>
            &nbsp;&nbsp;<span class="code-green">status</span>: <span class="code-orange">"available"</span>
            <span class="status-dot-inline"></span><br>
            &#125;;
          </div>
        </div>

        <form class="contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          <div class="form-row-2col">
            <div class="form-group" [class.has-error]="isFieldInvalid('name')">
              <label for="name">{{ 'cnt.label_name' | translate }}</label>
              <input id="name" type="text" formControlName="name" [placeholder]="'cnt.ph_name' | translate"
                     [class.input-error]="isFieldInvalid('name')">
              <div class="field-error" *ngIf="isFieldInvalid('name')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                <span *ngIf="contactForm.get('name')?.errors?.['required']">{{ 'cnt.err_name_required' | translate }}</span>
                <span *ngIf="contactForm.get('name')?.errors?.['minlength']">{{ 'cnt.err_name_min' | translate }}</span>
              </div>
            </div>
            <div class="form-group" [class.has-error]="isFieldInvalid('email')">
              <label for="email">{{ 'cnt.label_email' | translate }}</label>
              <input id="email" type="email" formControlName="email" [placeholder]="'cnt.ph_email' | translate"
                     [class.input-error]="isFieldInvalid('email')">
              <div class="field-error" *ngIf="isFieldInvalid('email')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                <span *ngIf="contactForm.get('email')?.errors?.['required']">{{ 'cnt.err_email_required' | translate }}</span>
                <span *ngIf="contactForm.get('email')?.errors?.['email']">{{ 'cnt.err_email_format' | translate }}</span>
              </div>
            </div>
          </div>

          <div class="form-group" [class.has-error]="isFieldInvalid('subject')">
            <label for="subject">{{ 'cnt.label_subject' | translate }}</label>
            <input id="subject" type="text" formControlName="subject" [placeholder]="'cnt.ph_subject' | translate"
                   [class.input-error]="isFieldInvalid('subject')">
            <div class="field-error" *ngIf="isFieldInvalid('subject')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
              <span *ngIf="contactForm.get('subject')?.errors?.['required']">{{ 'cnt.err_subject_required' | translate }}</span>
              <span *ngIf="contactForm.get('subject')?.errors?.['minlength']">{{ 'cnt.err_subject_min' | translate }}</span>
            </div>
          </div>

          <div class="form-group" [class.has-error]="isFieldInvalid('message')">
            <label for="message">{{ 'cnt.label_message' | translate }}</label>
            <textarea id="message" rows="5" formControlName="message" [placeholder]="'cnt.ph_message' | translate"
                      [class.input-error]="isFieldInvalid('message')"></textarea>
            <div class="field-error" *ngIf="isFieldInvalid('message')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
              <span *ngIf="contactForm.get('message')?.errors?.['required']">{{ 'cnt.err_msg_required' | translate }}</span>
              <span *ngIf="contactForm.get('message')?.errors?.['minlength']">{{ 'cnt.err_msg_min' | translate }}</span>
            </div>
          </div>

          <button type="submit" class="submit-btn" [class.success]="submitSuccess"
                  [disabled]="!contactForm.valid || isSubmitting">
            <span class="btn-text" *ngIf="!isSubmitting && !submitSuccess">
              {{ 'cnt.send_btn' | translate }}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
            </span>
            <span class="btn-text" *ngIf="isSubmitting">
              <span class="spinner"></span>{{ 'cnt.sending' | translate }}
            </span>
            <span class="btn-text" *ngIf="submitSuccess">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="16" height="16" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
              {{ 'cnt.sent' | translate }}
            </span>
          </button>
        </form>

      </div>
    </div>
  </section>

</div>
